<!doctype html>
<html lang="en-us">

<head></head>

<body>
    <script type="text/javascript" src="./sut/runtime.js"></script>
    <script type="text/javascript">
        let vggWasmInstance;
        let vggSdk;

        function setupAndRun() {
            createModule().then(function (myInstance) {
                vggWasmInstance = myInstance

                try {
                    vggWasmInstance._emscripten_main();
                } catch (error) {
                    console.error(error);
                }

                // Given
                vggSdk = new vggWasmInstance.VggSdk();
                // When
                const s = vggSdk.getDocumentJson();
                // Then
                console.log("document json string from sdk is: ", s);

            });
        }

        setupAndRun();

        function vggAssert(condition, message) {
            if (!condition) {
                throw new Error(message || "Assertion failed");
            }
        }
    </script>
</body>

</html>